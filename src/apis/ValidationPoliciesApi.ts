/* tslint:disable */
/* eslint-disable */
/**
 * MailOdds Email Validation API
 * MailOdds provides email validation services to help maintain clean email lists  and improve deliverability. The API performs multiple validation checks including  format verification, domain validation, MX record checking, and disposable email detection.  ## Authentication  All API requests require authentication using a Bearer token. Include your API key  in the Authorization header:  ``` Authorization: Bearer YOUR_API_KEY ```  API keys can be created in the MailOdds dashboard.  ## Rate Limits  Rate limits vary by plan: - Free: 10 requests/minute - Starter: 60 requests/minute   - Pro: 300 requests/minute - Business: 1000 requests/minute - Enterprise: Custom limits  ## Response Format  All responses include: - `schema_version`: API schema version (currently \"1.0\") - `request_id`: Unique request identifier for debugging  Error responses include: - `error`: Machine-readable error code - `message`: Human-readable error description 
 *
 * The version of the OpenAPI document: 1.0.0
 * Contact: support@mailodds.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  AddPolicyRule201Response,
  CreatePolicyFromPresetRequest,
  CreatePolicyRequest,
  DeletePolicy200Response,
  DeletePolicyRule200Response,
  ErrorResponse,
  PolicyListResponse,
  PolicyPresetsResponse,
  PolicyResponse,
  PolicyRule,
  PolicyTestResponse,
  TestPolicyRequest,
  UpdatePolicyRequest,
} from '../models/index';
import {
    AddPolicyRule201ResponseFromJSON,
    AddPolicyRule201ResponseToJSON,
    CreatePolicyFromPresetRequestFromJSON,
    CreatePolicyFromPresetRequestToJSON,
    CreatePolicyRequestFromJSON,
    CreatePolicyRequestToJSON,
    DeletePolicy200ResponseFromJSON,
    DeletePolicy200ResponseToJSON,
    DeletePolicyRule200ResponseFromJSON,
    DeletePolicyRule200ResponseToJSON,
    ErrorResponseFromJSON,
    ErrorResponseToJSON,
    PolicyListResponseFromJSON,
    PolicyListResponseToJSON,
    PolicyPresetsResponseFromJSON,
    PolicyPresetsResponseToJSON,
    PolicyResponseFromJSON,
    PolicyResponseToJSON,
    PolicyRuleFromJSON,
    PolicyRuleToJSON,
    PolicyTestResponseFromJSON,
    PolicyTestResponseToJSON,
    TestPolicyRequestFromJSON,
    TestPolicyRequestToJSON,
    UpdatePolicyRequestFromJSON,
    UpdatePolicyRequestToJSON,
} from '../models/index';

export interface AddPolicyRuleRequest {
    policyId: number;
    policyRule: PolicyRule;
}

export interface CreatePolicyOperationRequest {
    createPolicyRequest: CreatePolicyRequest;
}

export interface CreatePolicyFromPresetOperationRequest {
    createPolicyFromPresetRequest: CreatePolicyFromPresetRequest;
}

export interface DeletePolicyRequest {
    policyId: number;
}

export interface DeletePolicyRuleRequest {
    policyId: number;
    ruleId: number;
}

export interface GetPolicyRequest {
    policyId: number;
}

export interface ListPoliciesRequest {
    includeRules?: boolean;
}

export interface TestPolicyOperationRequest {
    testPolicyRequest: TestPolicyRequest;
}

export interface UpdatePolicyOperationRequest {
    policyId: number;
    updatePolicyRequest: UpdatePolicyRequest;
}

/**
 * 
 */
export class ValidationPoliciesApi extends runtime.BaseAPI {

    /**
     * Add a new rule to an existing policy.
     * Add rule to policy
     */
    async addPolicyRuleRaw(requestParameters: AddPolicyRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AddPolicyRule201Response>> {
        if (requestParameters['policyId'] == null) {
            throw new runtime.RequiredError(
                'policyId',
                'Required parameter "policyId" was null or undefined when calling addPolicyRule().'
            );
        }

        if (requestParameters['policyRule'] == null) {
            throw new runtime.RequiredError(
                'policyRule',
                'Required parameter "policyRule" was null or undefined when calling addPolicyRule().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/{policy_id}/rules`;
        urlPath = urlPath.replace(`{${"policy_id"}}`, encodeURIComponent(String(requestParameters['policyId'])));

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: PolicyRuleToJSON(requestParameters['policyRule']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => AddPolicyRule201ResponseFromJSON(jsonValue));
    }

    /**
     * Add a new rule to an existing policy.
     * Add rule to policy
     */
    async addPolicyRule(requestParameters: AddPolicyRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AddPolicyRule201Response> {
        const response = await this.addPolicyRuleRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Create a new validation policy with rules.
     * Create policy
     */
    async createPolicyRaw(requestParameters: CreatePolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyResponse>> {
        if (requestParameters['createPolicyRequest'] == null) {
            throw new runtime.RequiredError(
                'createPolicyRequest',
                'Required parameter "createPolicyRequest" was null or undefined when calling createPolicy().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreatePolicyRequestToJSON(requestParameters['createPolicyRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyResponseFromJSON(jsonValue));
    }

    /**
     * Create a new validation policy with rules.
     * Create policy
     */
    async createPolicy(requestParameters: CreatePolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyResponse> {
        const response = await this.createPolicyRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Create a policy using a preset template.
     * Create policy from preset
     */
    async createPolicyFromPresetRaw(requestParameters: CreatePolicyFromPresetOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyResponse>> {
        if (requestParameters['createPolicyFromPresetRequest'] == null) {
            throw new runtime.RequiredError(
                'createPolicyFromPresetRequest',
                'Required parameter "createPolicyFromPresetRequest" was null or undefined when calling createPolicyFromPreset().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/from-preset`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreatePolicyFromPresetRequestToJSON(requestParameters['createPolicyFromPresetRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyResponseFromJSON(jsonValue));
    }

    /**
     * Create a policy using a preset template.
     * Create policy from preset
     */
    async createPolicyFromPreset(requestParameters: CreatePolicyFromPresetOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyResponse> {
        const response = await this.createPolicyFromPresetRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Delete a policy and all its rules.
     * Delete policy
     */
    async deletePolicyRaw(requestParameters: DeletePolicyRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<DeletePolicy200Response>> {
        if (requestParameters['policyId'] == null) {
            throw new runtime.RequiredError(
                'policyId',
                'Required parameter "policyId" was null or undefined when calling deletePolicy().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/{policy_id}`;
        urlPath = urlPath.replace(`{${"policy_id"}}`, encodeURIComponent(String(requestParameters['policyId'])));

        const response = await this.request({
            path: urlPath,
            method: 'DELETE',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => DeletePolicy200ResponseFromJSON(jsonValue));
    }

    /**
     * Delete a policy and all its rules.
     * Delete policy
     */
    async deletePolicy(requestParameters: DeletePolicyRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<DeletePolicy200Response> {
        const response = await this.deletePolicyRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Delete a rule from a policy.
     * Delete rule
     */
    async deletePolicyRuleRaw(requestParameters: DeletePolicyRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<DeletePolicyRule200Response>> {
        if (requestParameters['policyId'] == null) {
            throw new runtime.RequiredError(
                'policyId',
                'Required parameter "policyId" was null or undefined when calling deletePolicyRule().'
            );
        }

        if (requestParameters['ruleId'] == null) {
            throw new runtime.RequiredError(
                'ruleId',
                'Required parameter "ruleId" was null or undefined when calling deletePolicyRule().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/{policy_id}/rules/{rule_id}`;
        urlPath = urlPath.replace(`{${"policy_id"}}`, encodeURIComponent(String(requestParameters['policyId'])));
        urlPath = urlPath.replace(`{${"rule_id"}}`, encodeURIComponent(String(requestParameters['ruleId'])));

        const response = await this.request({
            path: urlPath,
            method: 'DELETE',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => DeletePolicyRule200ResponseFromJSON(jsonValue));
    }

    /**
     * Delete a rule from a policy.
     * Delete rule
     */
    async deletePolicyRule(requestParameters: DeletePolicyRuleRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<DeletePolicyRule200Response> {
        const response = await this.deletePolicyRuleRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Get a single policy with its rules.
     * Get policy
     */
    async getPolicyRaw(requestParameters: GetPolicyRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyResponse>> {
        if (requestParameters['policyId'] == null) {
            throw new runtime.RequiredError(
                'policyId',
                'Required parameter "policyId" was null or undefined when calling getPolicy().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/{policy_id}`;
        urlPath = urlPath.replace(`{${"policy_id"}}`, encodeURIComponent(String(requestParameters['policyId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyResponseFromJSON(jsonValue));
    }

    /**
     * Get a single policy with its rules.
     * Get policy
     */
    async getPolicy(requestParameters: GetPolicyRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyResponse> {
        const response = await this.getPolicyRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Get available preset templates for quick policy creation.
     * Get policy presets
     */
    async getPolicyPresetsRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyPresetsResponse>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/presets`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyPresetsResponseFromJSON(jsonValue));
    }

    /**
     * Get available preset templates for quick policy creation.
     * Get policy presets
     */
    async getPolicyPresets(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyPresetsResponse> {
        const response = await this.getPolicyPresetsRaw(initOverrides);
        return await response.value();
    }

    /**
     * List all validation policies for your account. Includes plan limits.
     * List policies
     */
    async listPoliciesRaw(requestParameters: ListPoliciesRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyListResponse>> {
        const queryParameters: any = {};

        if (requestParameters['includeRules'] != null) {
            queryParameters['include_rules'] = requestParameters['includeRules'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyListResponseFromJSON(jsonValue));
    }

    /**
     * List all validation policies for your account. Includes plan limits.
     * List policies
     */
    async listPolicies(requestParameters: ListPoliciesRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyListResponse> {
        const response = await this.listPoliciesRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Test how a policy would evaluate a validation result without affecting production.
     * Test policy evaluation
     */
    async testPolicyRaw(requestParameters: TestPolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyTestResponse>> {
        if (requestParameters['testPolicyRequest'] == null) {
            throw new runtime.RequiredError(
                'testPolicyRequest',
                'Required parameter "testPolicyRequest" was null or undefined when calling testPolicy().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/test`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: TestPolicyRequestToJSON(requestParameters['testPolicyRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyTestResponseFromJSON(jsonValue));
    }

    /**
     * Test how a policy would evaluate a validation result without affecting production.
     * Test policy evaluation
     */
    async testPolicy(requestParameters: TestPolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyTestResponse> {
        const response = await this.testPolicyRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Update a policy\'s settings (name, enabled, default).
     * Update policy
     */
    async updatePolicyRaw(requestParameters: UpdatePolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PolicyResponse>> {
        if (requestParameters['policyId'] == null) {
            throw new runtime.RequiredError(
                'policyId',
                'Required parameter "policyId" was null or undefined when calling updatePolicy().'
            );
        }

        if (requestParameters['updatePolicyRequest'] == null) {
            throw new runtime.RequiredError(
                'updatePolicyRequest',
                'Required parameter "updatePolicyRequest" was null or undefined when calling updatePolicy().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("BearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/v1/policies/{policy_id}`;
        urlPath = urlPath.replace(`{${"policy_id"}}`, encodeURIComponent(String(requestParameters['policyId'])));

        const response = await this.request({
            path: urlPath,
            method: 'PUT',
            headers: headerParameters,
            query: queryParameters,
            body: UpdatePolicyRequestToJSON(requestParameters['updatePolicyRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PolicyResponseFromJSON(jsonValue));
    }

    /**
     * Update a policy\'s settings (name, enabled, default).
     * Update policy
     */
    async updatePolicy(requestParameters: UpdatePolicyOperationRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PolicyResponse> {
        const response = await this.updatePolicyRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
